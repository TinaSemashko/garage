"use strict";(self.webpackChunkconnectify=self.webpackChunkconnectify||[]).push([[231],{9231:function(e,n,i){i.r(n),i.d(n,{default:function(){return he}});var o=i(4165),t=i(5861),a=i(4942),r=i(1413),l=i(9439),s=i(7313),c=i(3405),d=i(6957),u=i(4641),v=i(1113),m=i(5851),p=i(3366),h=i(7462),f=i(2197),x={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},g=i(1921),Z=i(9860),y=i(1615),b=i(7677),j=i(4951),w=i(9127),S=i(6983),C=i(1171),F=i(6417),A=(0,C.Z)((0,F.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),V=(0,C.Z)((0,F.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder"),k=i(9394),M=i(8564),R=i(7430),L=i(2298);function z(e){return(0,L.Z)("MuiRating",e)}var E=(0,R.Z)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),B=["value"],H=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function O(e,n){if(null==e)return e;var i=Math.round(e/n)*n;return Number(i.toFixed(function(e){var n=e.toString().split(".")[1];return n?n.length:0}(n)))}var I=(0,M.ZP)("span",{name:"MuiRating",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[(0,a.Z)({},"& .".concat(E.visuallyHidden),n.visuallyHidden),n.root,n["size".concat((0,y.Z)(i.size))],i.readOnly&&n.readOnly]}})((function(e){var n,i=e.theme,o=e.ownerState;return(0,h.Z)((n={display:"inline-flex",position:"relative",fontSize:i.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent"},(0,a.Z)(n,"&.".concat(E.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"}),(0,a.Z)(n,"&.".concat(E.focusVisible," .").concat(E.iconActive),{outline:"1px solid #999"}),(0,a.Z)(n,"& .".concat(E.visuallyHidden),x),n),"small"===o.size&&{fontSize:i.typography.pxToRem(18)},"large"===o.size&&{fontSize:i.typography.pxToRem(30)},o.readOnly&&{pointerEvents:"none"})})),P=(0,M.ZP)("label",{name:"MuiRating",slot:"Label",overridesResolver:function(e,n){var i=e.ownerState;return[n.label,i.emptyValueFocused&&n.labelEmptyValueActive]}})((function(e){var n=e.ownerState;return(0,h.Z)({cursor:"inherit"},n.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),T=(0,M.ZP)("span",{name:"MuiRating",slot:"Icon",overridesResolver:function(e,n){var i=e.ownerState;return[n.icon,i.iconEmpty&&n.iconEmpty,i.iconFilled&&n.iconFilled,i.iconHover&&n.iconHover,i.iconFocus&&n.iconFocus,i.iconActive&&n.iconActive]}})((function(e){var n=e.theme,i=e.ownerState;return(0,h.Z)({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none"},i.iconActive&&{transform:"scale(1.2)"},i.iconEmpty&&{color:(n.vars||n).palette.action.disabled})})),_=(0,M.ZP)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:function(e){return(0,M.Dz)(e)&&"iconActive"!==e},overridesResolver:function(e,n){var i=e.iconActive;return[n.decimal,i&&n.iconActive]}})((function(e){var n=e.iconActive;return(0,h.Z)({position:"relative"},n&&{transform:"scale(1.2)"})}));function N(e){var n=(0,p.Z)(e,B);return(0,F.jsx)("span",(0,h.Z)({},n))}function q(e){var n=e.classes,i=e.disabled,o=e.emptyIcon,t=e.focus,a=e.getLabelText,r=e.highlightSelectedOnly,l=e.hover,c=e.icon,d=e.IconContainerComponent,u=e.isActive,v=e.itemValue,m=e.labelProps,p=e.name,x=e.onBlur,g=e.onChange,Z=e.onClick,y=e.onFocus,j=e.readOnly,w=e.ownerState,S=e.ratingValue,C=r?v===S:v<=S,A=v<=l,V=v<=t,k=v===e.ratingValueRounded,M=(0,b.Z)(),R=(0,F.jsx)(T,{as:d,value:v,className:(0,f.Z)(n.icon,C?n.iconFilled:n.iconEmpty,A&&n.iconHover,V&&n.iconFocus,u&&n.iconActive),ownerState:(0,h.Z)({},w,{iconEmpty:!C,iconFilled:C,iconHover:A,iconFocus:V,iconActive:u}),children:o&&!C?o:c});return j?(0,F.jsx)("span",(0,h.Z)({},m,{children:R})):(0,F.jsxs)(s.Fragment,{children:[(0,F.jsxs)(P,(0,h.Z)({ownerState:(0,h.Z)({},w,{emptyValueFocused:void 0}),htmlFor:M},m,{children:[R,(0,F.jsx)("span",{className:n.visuallyHidden,children:a(v)})]})),(0,F.jsx)("input",{className:n.visuallyHidden,onFocus:y,onBlur:x,onChange:g,onClick:Z,disabled:i,value:v,id:M,type:"radio",name:p,checked:k})]})}var W=(0,F.jsx)(A,{fontSize:"inherit"}),D=(0,F.jsx)(V,{fontSize:"inherit"});function X(e){return"".concat(e," Star").concat(1!==e?"s":"")}var U,J,K,Y,G,Q,$=s.forwardRef((function(e,n){var i=(0,k.Z)({name:"MuiRating",props:e}),o=i.className,t=i.defaultValue,a=void 0===t?null:t,r=i.disabled,c=void 0!==r&&r,d=i.emptyIcon,u=void 0===d?D:d,v=i.emptyLabelText,m=void 0===v?"Empty":v,x=i.getLabelText,C=void 0===x?X:x,A=i.highlightSelectedOnly,V=void 0!==A&&A,M=i.icon,R=void 0===M?W:M,L=i.IconContainerComponent,E=void 0===L?N:L,B=i.max,T=void 0===B?5:B,U=i.name,J=i.onChange,K=i.onChangeActive,Y=i.onMouseLeave,G=i.onMouseMove,Q=i.precision,$=void 0===Q?1:Q,ee=i.readOnly,ne=void 0!==ee&&ee,ie=i.size,oe=void 0===ie?"medium":ie,te=i.value,ae=(0,p.Z)(i,H),re=(0,b.Z)(U),le=(0,j.Z)({controlled:te,default:a,name:"Rating"}),se=(0,l.Z)(le,2),ce=se[0],de=se[1],ue=O(ce,$),ve=(0,Z.Z)(),me=s.useState({hover:-1,focus:-1}),pe=(0,l.Z)(me,2),he=pe[0],fe=he.hover,xe=he.focus,ge=pe[1],Ze=ue;-1!==fe&&(Ze=fe),-1!==xe&&(Ze=xe);var ye=(0,w.Z)(),be=ye.isFocusVisibleRef,je=ye.onBlur,we=ye.onFocus,Se=ye.ref,Ce=s.useState(!1),Fe=(0,l.Z)(Ce,2),Ae=Fe[0],Ve=Fe[1],ke=s.useRef(),Me=(0,S.Z)(Se,ke,n),Re=function(e){var n=""===e.target.value?null:parseFloat(e.target.value);-1!==fe&&(n=fe),de(n),J&&J(e,n)},Le=function(e){0===e.clientX&&0===e.clientY||(ge({hover:-1,focus:-1}),de(null),J&&parseFloat(e.target.value)===ue&&J(e,null))},ze=function(e){we(e),!0===be.current&&Ve(!0);var n=parseFloat(e.target.value);ge((function(e){return{hover:e.hover,focus:n}}))},Ee=function(e){if(-1===fe){je(e),!1===be.current&&Ve(!1);ge((function(e){return{hover:e.hover,focus:-1}}))}},Be=s.useState(!1),He=(0,l.Z)(Be,2),Oe=He[0],Ie=He[1],Pe=(0,h.Z)({},i,{defaultValue:a,disabled:c,emptyIcon:u,emptyLabelText:m,emptyValueFocused:Oe,focusVisible:Ae,getLabelText:C,icon:R,IconContainerComponent:E,max:T,precision:$,readOnly:ne,size:oe}),Te=function(e){var n=e.classes,i=e.size,o=e.readOnly,t=e.disabled,a=e.emptyValueFocused,r=e.focusVisible,l={root:["root","size".concat((0,y.Z)(i)),t&&"disabled",r&&"focusVisible",o&&"readOnly"],label:["label","pristine"],labelEmptyValue:[a&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,g.Z)(l,z,n)}(Pe);return(0,F.jsxs)(I,(0,h.Z)({ref:Me,onMouseMove:function(e){G&&G(e);var n,i=ke.current,o=i.getBoundingClientRect(),t=o.right,a=o.left,r=i.firstChild.getBoundingClientRect().width;n="rtl"===ve.direction?(t-e.clientX)/(r*T):(e.clientX-a)/(r*T);var l=O(T*n+$/2,$);l=function(e,n,i){return e<n?n:e>i?i:e}(l,$,T),ge((function(e){return e.hover===l&&e.focus===l?e:{hover:l,focus:l}})),Ve(!1),K&&fe!==l&&K(e,l)},onMouseLeave:function(e){Y&&Y(e);ge({hover:-1,focus:-1}),K&&-1!==fe&&K(e,-1)},className:(0,f.Z)(Te.root,o,ne&&"MuiRating-readOnly"),ownerState:Pe,role:ne?"img":null,"aria-label":ne?C(Ze):null},ae,{children:[Array.from(new Array(T)).map((function(e,n){var i=n+1,o={classes:Te,disabled:c,emptyIcon:u,focus:xe,getLabelText:C,highlightSelectedOnly:V,hover:fe,icon:R,IconContainerComponent:E,name:re,onBlur:Ee,onChange:Re,onClick:Le,onFocus:ze,ratingValue:Ze,ratingValueRounded:ue,readOnly:ne,ownerState:Pe},t=i===Math.ceil(Ze)&&(-1!==fe||-1!==xe);if($<1){var a=Array.from(new Array(1/$));return(0,F.jsx)(_,{className:(0,f.Z)(Te.decimal,t&&Te.iconActive),ownerState:Pe,iconActive:t,children:a.map((function(e,n){var t=O(i-1+(n+1)*$,$);return(0,F.jsx)(q,(0,h.Z)({},o,{isActive:!1,itemValue:t,labelProps:{style:a.length-1===n?{}:{width:t===Ze?"".concat((n+1)*$*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),t)}))},i)}return(0,F.jsx)(q,(0,h.Z)({},o,{isActive:t,itemValue:i}),i)})),!ne&&!c&&(0,F.jsxs)(P,{className:(0,f.Z)(Te.label,Te.labelEmptyValue),ownerState:Pe,children:[(0,F.jsx)("input",{className:Te.visuallyHidden,value:"",id:"".concat(re,"-empty"),type:"radio",name:re,checked:null==ue,onFocus:function(){return Ie(!0)},onBlur:function(){return Ie(!1)},onChange:Re}),(0,F.jsx)("span",{className:Te.visuallyHidden,children:m})]})]}))})),ee=i(5303),ne=i(4560),ie=i(7327),oe=i(2284),te=i(5664),ae=i(1095),re=i(517),le=i(168),se=i(3428),ce=(0,M.ZP)(se.Z)(U||(U=(0,le.Z)(["\n  margin-top: 5%;\n  padding-top: 5%;\n  padding-bottom: 10%;\n\n  background: linear-gradient(\n    180deg,\n    rgba(216, 236, 232, 0.34505139946603647) 28%,\n    rgba(122, 184, 181, 0.6335668056285014) 100%\n  );\n\n  @media (max-width: 750px) {\n  }\n"]))),de=(0,M.ZP)("div")(J||(J=(0,le.Z)(["\n  display: flex;\n\n  @media (max-width: 750px) {\n    flex-direction: column;\n  }\n"]))),ue=(0,M.ZP)("div")(K||(K=(0,le.Z)(["\n  width: 50vw;\n  padding-left: 5%;\n\n  @media (max-width: 750px) {\n  }\n"]))),ve=(0,M.ZP)("div")(Y||(Y=(0,le.Z)(["\n  padding-top: 1%;\n  padding-left: 10%;\n  width: 50vw;\n  font-size: 8vh;\n\n  @media (max-width: 750px) {\n  }\n"]))),me=(0,M.ZP)("div")(G||(G=(0,le.Z)(["\n  padding-bottom: 4vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: start;\n"]))),pe=(0,M.ZP)("div")(Q||(Q=(0,le.Z)(["\n  text-align: center;\n\n  @media (max-width: 750px) {\n  }\n"]))),he=function(){var e=(0,s.useContext)(m.Z).authState,n=(0,ee.Ds)().enqueueSnackbar,i=(0,s.useState)(),p=(0,l.Z)(i,2),h=p[0],f=p[1],x=(0,s.useState)(""),g=(0,l.Z)(x,2),Z=g[0],y=g[1],b=(0,s.useState)([]),j=(0,l.Z)(b,2),w=j[0],S=j[1],C=(0,s.useState)({message:"",note:0,id_user:0,id_produit:0}),A=(0,l.Z)(C,2),V=A[0],k=A[1],M=V.message,R=V.note,L=(V.id_user,V.id_produit,JSON.parse(localStorage.getItem("produit")));(0,s.useEffect)((function(){void 0!==L&&(f({id:null===L||void 0===L?void 0:L.id,title:null===L||void 0===L?void 0:L.title,type:null===L||void 0===L?void 0:L.type,annee:null===L||void 0===L?void 0:L.annee,prix:null===L||void 0===L?void 0:L.prix,kilometrage:null===L||void 0===L?void 0:L.kilometrage,marque:null===L||void 0===L?void 0:L.marque,modele:null===L||void 0===L?void 0:L.modele,puissance_fiscale:null===L||void 0===L?void 0:L.puissance_fiscale,puissance_motor:null===L||void 0===L?void 0:L.puissance_motor,boite_vitesse:null===L||void 0===L?void 0:L.boite_vitesse,imgUrl:null===L||void 0===L?void 0:L.image}),k((0,r.Z)((0,r.Z)({},V),{},{id_produit:null===L||void 0===L?void 0:L.id,id_user:parseInt(e.userId)})))}),[]);var z=function(e,i){n(i,{variant:"error"}),console.error(e)};(0,s.useEffect)((function(){Z&&n("Votre avis est ajout\xe9 avec succ\xe8s",{variant:"success"})}),[Z]);var E=function(){var n=(0,t.Z)((0,o.Z)().mark((function n(){var i,t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={data:V},t={"x-access-token":e.authToken},n.next=4,re.Z.post("createavis",i,{headers:t}).then((function(e){return y(e.data.results)})).catch((function(e){z(e,e.message)}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),B=function(){var n=(0,t.Z)((0,o.Z)().mark((function n(){var i;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={"x-access-token":e.authToken},n.next=3,re.Z.get("geteavis/".concat(null===L||void 0===L?void 0:L.id),{headers:i}).then((function(e){S(e.data.results[0])})).catch((function(e){console.error(e)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){B()}),[]),(0,F.jsxs)(ce,{children:[(0,F.jsxs)(de,{children:[(0,F.jsxs)(ue,{children:[(0,F.jsx)(u.Z,{title:null===h||void 0===h?void 0:h.title,sx:{color:"primary.main",fontSize:"8vh"}}),(0,F.jsx)(d.Z,{component:"img",image:null===h||void 0===h?void 0:h.imgUrl,sx:{width:{xs:"90vw",md:"50vw"},height:{xs:"20vh",md:"70vh"}}}),(0,F.jsxs)(c.Z,{children:[(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Modele: ",null===h||void 0===h?void 0:h.modele]}),(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h6",component:"div",children:["Marque: ",null===h||void 0===h?void 0:h.marque]})]})]}),(0,F.jsxs)(ve,{children:[(0,F.jsxs)(ne.Z,{id:"composition-menu","aria-labelledby":"composition-button",sx:{width:"20vw"},children:[(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Annee: ",null===h||void 0===h?void 0:h.annee]})}),(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Prix: ",null===h||void 0===h?void 0:h.prix]})}),(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Kilometrage: ",null===h||void 0===h?void 0:h.kilometrage]})}),(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Puissance fiscale: ",null===h||void 0===h?void 0:h.puissance_fiscale]})}),(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Puissance motor: ",null===h||void 0===h?void 0:h.puissance_motor]})}),(0,F.jsx)(ie.Z,{children:(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Boite vitesse: ",null===h||void 0===h?void 0:h.boite_vitesse]})})]}),(0,F.jsxs)(oe.Z,{children:[(0,F.jsx)(v.Z,{component:"legend",children:"Avis"}),(0,F.jsx)($,{name:"simple-controlled",value:R,disabled:!e.isLoggedIn,onChange:function(e,n){k((0,r.Z)((0,r.Z)({},V),{},{note:null===n?0:n}))}})]}),(0,F.jsx)(oe.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:{xs:"50vw",md:"25vw"},borderRadius:"10px",borderBlockColor:"colorWhite.main",backgroundColor:"colorWhite.main",boxShadow:" 0px 4px 4px gray inset"}},noValidate:!0,autoComplete:"off",children:(0,F.jsxs)(me,{children:[(0,F.jsx)(te.Z,{required:!0,id:"standard",type:"text",fullWidth:!0,name:"sujet",value:e.nom,disabled:!0}),(0,F.jsx)(te.Z,{required:!0,id:"standard",type:"text",placeholder:"Ecrivez votre message...",multiline:!0,rows:4,fullWidth:!0,name:"message",value:M,onChange:function(e){return function(e){var n,i;k((0,r.Z)((0,r.Z)({},V),{},(0,a.Z)({},null===(n=e.target)||void 0===n?void 0:n.name,null===(i=e.target)||void 0===i?void 0:i.value)))}(e)},sx:{width:{xs:"50vw",md:"25vw"}},disabled:!e.isLoggedIn}),(0,F.jsx)("br",{}),(0,F.jsx)("br",{}),(0,F.jsx)(ae.Z,{variant:"contained",color:"secondary",disabled:!e.isLoggedIn,onClick:function(){return console.log(V),void E()},sx:{color:"colorWhite.main",backgroundColor:"primary.main",borderRadius:"10px",width:"10vw"},children:"Valider"})]})})]})]}),(0,F.jsx)(pe,{children:w.map((function(e,n){return(0,F.jsxs)("div",{children:[(0,F.jsx)($,{value:e.note,disabled:!0}),(0,F.jsxs)(v.Z,{gutterBottom:!0,variant:"h5",component:"div",children:[e.nickname,":",e.message]})]})}))})]})}}}]);
"use strict";(self.webpackChunkconnectify=self.webpackChunkconnectify||[]).push([[748],{9551:function(e,n,i){var t=i(4165),o=i(5861),r=i(9439),a=i(7313),d=i(5851),l=i(517);n.Z=function(){var e=(0,a.useContext)(d.Z).authState,n=(0,a.useState)(!1),i=(0,r.Z)(n,2),u=i[0],s=i[1],c=(0,a.useState)(null),v=(0,r.Z)(c,2),m=v[0],p=v[1],h=(0,a.useCallback)(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(i,o,r,a,d){var u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),p(null),u={},e.isLoggedIn&&e.authToken&&(u["x-access-token"]=e.authToken),n.next=6,(0,l.Z)({method:i,url:o,data:r,headers:u}).then((function(e){a(e.data.results[0])})).catch((function(e){d?d(e.message||e.error||e):p(e.message||e.error||e)}));case 6:s(!1);case 7:case"end":return n.stop()}}),n)})));return function(e,i,t,o,r){return n.apply(this,arguments)}}(),[e.authToken]);return{loading:u,error:m,request:h,setError:p}}},3506:function(e,n,i){i.r(n),i.d(n,{default:function(){return ie}});var t,o,r,a,d,l,u,s,c,v,m,p,h,x,f,g=i(4942),Z=i(1413),j=i(9439),y=i(1113),C=i(2284),b=i(5664),A=i(7327),q=i(7313),w=i(5303),S=i(5851),E=i(6557),k=i(4165),T=i(5861),W=i(2461),U=i(8530),P=i(9551),I=i(168),B=i(1095),Q=i(8564),R=(0,Q.ZP)("div")(t||(t=(0,I.Z)(["\n  display: flex;\n  /* flex-direction: column; */\n  justify-content: space-evenly;\n  width: 100%;\n  margin-top: 10vh;\n  margin-bottom: 10vh;\n\n  @media (max-width: 750px) {\n  }\n"]))),K=(0,Q.ZP)(B.Z)(o||(o=(0,I.Z)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 10px;\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.colorWhite.main})),O=(0,Q.ZP)("div")(r||(r=(0,I.Z)(["\n  text-align: center;\n  padding-top: 10vh;\n  @media (max-width: 750px) {\n  }\n"]))),J=(0,Q.ZP)("div")(a||(a=(0,I.Z)(["\n  width: 10vw;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  text-align: center;\n\n  @media (max-width: 750px) {\n    width: 10vw;\n    height: 10vh;\n  }\n"]))),L=(0,Q.ZP)("img")(d||(d=(0,I.Z)(["\n  width: 10vw;\n  grid-column: 1;\n  grid-row: 1;\n\n  @media (max-width: 750px) {\n  }\n"]))),M=i(6417),G=function(){var e=(0,w.Ds)().enqueueSnackbar,n=((0,q.useContext)(S.Z).authState,(0,P.Z)()),i=n.request,t=n.setError,o=(0,q.useState)(),r=(0,j.Z)(o,2),a=r[0],d=r[1],l=(0,q.useState)(),u=(0,j.Z)(l,2),s=u[0],c=u[1],v=(0,q.useState)(),m=(0,j.Z)(v,2),p=m[0],h=m[1],x=(0,q.useState)(),f=(0,j.Z)(x,2),E=f[0],I=(f[1],(0,q.useState)()),B=(0,j.Z)(I,2),Q=B[0],G=(B[1],(0,q.useState)()),F=(0,j.Z)(G,2),V=F[0],H=(F[1],(0,q.useState)("data:image/png;base64,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")),D=(0,j.Z)(H,2),z=D[0],N=D[1],_=(0,q.useState)({title:"",id_type:0,annee:"",prix:"",kilometrage:"",id_marque:0,id_modele:0,puissance_fiscale:"",puissance_motor:"",boite_vitesse:"",image:""}),Y=(0,j.Z)(_,2),X=Y[0],$=Y[1],ee=(0,q.useState)(0),ne=(0,j.Z)(ee,2),ie=ne[0],te=ne[1],oe=X.title,re=(X.id_type,X.annee),ae=X.prix,de=X.kilometrage,le=(X.id_marque,X.puissance_fiscale),ue=X.puissance_motor,se=X.boite_vitesse,ce=(X.image,function(n,i){e(i,{variant:"error"}),console.error(n)}),ve=function(e){var n,i,t,o,r;"type"===(null===(n=e.target)||void 0===n?void 0:n.name)&&void 0!==a?$((0,Z.Z)((0,Z.Z)({},X),{},{id_type:a.findIndex((function(n){var i;return n.type===(null===(i=e.target)||void 0===i?void 0:i.value)}))+1})):"marque"===(null===(i=e.target)||void 0===i?void 0:i.name)&&void 0!==p?$((0,Z.Z)((0,Z.Z)({},X),{},{id_marque:p.findIndex((function(n){var i;return n.marque===(null===(i=e.target)||void 0===i?void 0:i.value)}))+1})):"modele"===(null===(t=e.target)||void 0===t?void 0:t.name)&&void 0!==s?$((0,Z.Z)((0,Z.Z)({},X),{},{id_modele:s.findIndex((function(n){var i;return n.modele===(null===(i=e.target)||void 0===i?void 0:i.value)}))+1})):$((0,Z.Z)((0,Z.Z)({},X),{},(0,g.Z)({},null===(o=e.target)||void 0===o?void 0:o.name,null===(r=e.target)||void 0===r?void 0:r.value)))};(0,q.useEffect)((function(){try{i("GET","types",{headers:{"Content-Type":"application/json"}},d)}catch(e){t(e.message||e),ce(e,e.message)}}),[]),(0,q.useEffect)((function(){try{i("GET","modeles",{headers:{"Content-Type":"application/json"}},c)}catch(e){t(e.message||e),ce(e,e.message)}}),[]),(0,q.useEffect)((function(){try{i("GET","marques",{headers:{"Content-Type":"application/json"}},h)}catch(e){t(e.message||e),ce(e,e.message)}}),[]);var me=function(e){return new Promise((function(n,i){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n(t.result)},t.onerror=function(e){i(e)}}))},pe=function(){var e=(0,T.Z)((0,k.Z)().mark((function e(n){var i;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.files){e.next=6;break}return e.next=3,me(n.target.files[0]);case 3:i=e.sent,N(URL.createObjectURL(n.target.files[0])),$((0,Z.Z)((0,Z.Z)({},X),{},{image:i}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,q.useEffect)((function(){ie&&e("Produit est cr\xe9\xe9 avec succ\xe8s",{variant:"success"})}),[ie]),(0,M.jsxs)(R,{children:[(0,M.jsx)(U.eU,{children:(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(C.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:{xs:"30vw",md:"15vw"},borderRadius:"10px",borderBlockColor:"colorWhite.main",backgroundColor:"colorWhite.main",boxShadow:" 0px 4px 4px gray inset"}},noValidate:!0,autoComplete:"off",children:[(0,M.jsx)(y.Z,{variant:"h4",sx:{color:"colorWhite.main"},children:"Ajouter un produit"}),(0,M.jsx)("br",{}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Title",name:"title",value:oe,onChange:function(e){return ve(e)}}),(0,M.jsx)(b.Z,{id:"outlined-select-role",select:!0,label:"Select type",required:!0,type:"text",placeholder:"Type",name:"type",value:E,onChange:function(e){return ve(e)},children:null===a||void 0===a?void 0:a.map((function(e,n){return(0,M.jsx)(A.Z,{value:e.type,children:e.type},n)}))}),(0,M.jsx)("br",{}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Annee",name:"annee",value:re,onChange:function(e){return ve(e)}}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Prix",name:"prix",value:ae,onChange:function(e){return ve(e)}}),(0,M.jsx)("br",{}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Kilometrage",name:"kilometrage",value:de,onChange:function(e){return ve(e)}}),(0,M.jsx)(b.Z,{required:!0,select:!0,label:"Select marque",type:"text",name:"marque",value:Q,onChange:function(e){return ve(e)},children:null===p||void 0===p?void 0:p.map((function(e,n){return(0,M.jsx)(A.Z,{value:e.marque,children:e.marque},n)}))}),(0,M.jsx)("br",{}),(0,M.jsx)(b.Z,{required:!0,select:!0,type:"text",label:"Select modele",name:"modele",value:V,onChange:function(e){return ve(e)},children:null===s||void 0===s?void 0:s.filter((function(e){return e.id_marque===X.id_marque})).map((function(e,n){return(0,M.jsx)(A.Z,{value:e.modele,children:e.modele},n)}))}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Puissance fiscale",name:"puissance_fiscale",value:le,onChange:function(e){return ve(e)}}),(0,M.jsx)("br",{}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Puissance motor",name:"puissance_motor",value:ue,onChange:function(e){return ve(e)}}),(0,M.jsx)(b.Z,{required:!0,type:"text",placeholder:"Boite vitesse",name:"boite_vitesse",value:se,onChange:function(e){return ve(e)}}),(0,M.jsx)("br",{}),(0,M.jsx)(K,{type:"button",color:"primary",onClick:function(){return function(){if(Object.keys(X).length){var n=new FormData;n.append("title",X.title),n.append("id_type",X.id_type.toString()),n.append("annee",X.annee),n.append("prix",X.prix),n.append("kilometrage",X.kilometrage),n.append("id_marque",X.id_marque.toString()),n.append("id_modele",X.id_modele.toString()),n.append("puissance_fiscale",X.puissance_fiscale),n.append("puissance_motor",X.puissance_motor),n.append("boite_vitesse",X.boite_vitesse),n.append("image",X.image);try{i("POST","createproduct",n,te)}catch(o){console.error(o.message||o),t(o.message||o),ce(o,o.message)}}else e("Aucun changement effectu\xe9",{variant:"info"})}()},children:"Submit"})]})})}),(0,M.jsxs)(O,{children:[(0,M.jsxs)(J,{children:[(0,M.jsx)(L,{src:z,alt:"img produit",width:"100vw"}),(0,M.jsx)(W.Z,{sx:{opacity:"0",gridColumn:"1",gridRow:"1"},type:"file",onChange:pe,name:"imageproduit"})]}),(0,M.jsx)(y.Z,{variant:"h6",sx:{color:"colorWhite.main"},children:"Choisissez votre image"})]})]})},F=(0,Q.ZP)("div")(l||(l=(0,I.Z)(["\n  @media (max-width: 750px) {\n  }\n"]))),V=(0,Q.ZP)("div")(u||(u=(0,I.Z)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 2% 8.5% 8.5% 8.5% 8.5% 8.5% 8.5% 8.5% 8.5% 8.5% 8.5% 6% 6%;\n  grid-template-rows: auto;\n  justify-items: center;\n  align-items: center;\n  color: ",";\n\n  @media (max-width: 750px) {\n    /* grid-template-columns: 100vw; */\n    align-items: center;\n    font-size: 0.5rem;\n  }\n"])),(function(e){return e.theme.palette.colorWhite.main})),H=(0,Q.ZP)("div")(s||(s=(0,I.Z)(["\n  display: block;\n  width: 100%;\n  text-align: center;\n  color: ",";\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.theme.palette.colorWhite.main})),D=((0,Q.ZP)("div")(c||(c=(0,I.Z)(["\n  display: ",";\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.show?"block":"none"})),(0,Q.ZP)(B.Z)(v||(v=(0,I.Z)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 10px;\n\n  @media (max-width: 750px) {\n    width: 5vw;\n    height: 2vh;\n    font-size: 0.5rem;\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.secondary.main}))),z=function(){var e=(0,w.Ds)().enqueueSnackbar,n=(0,P.Z)(),i=n.request,t=n.setError,o=(0,q.useState)(),r=(0,j.Z)(o,2),a=r[0],d=r[1],l=(0,q.useState)(),u=(0,j.Z)(l,2),s=u[0],c=u[1],v=(0,q.useState)(),m=(0,j.Z)(v,2),p=m[0],h=m[1],x=(0,q.useState)([]),f=(0,j.Z)(x,2),S=f[0],E=f[1],k=(0,q.useState)(""),T=(0,j.Z)(k,2),W=T[0],U=T[1],I=(0,q.useState)({}),B=(0,j.Z)(I,2),Q=B[0],R=B[1],K=(0,q.useState)({id:0,title:"",type:"",id_type:0,annee:"",prix:"",kilometrage:"",marque:"",id_marque:0,modele:"",id_modele:0,puissance_fiscale:"",puissance_motor:"",boite_vitesse:"",image:""}),O=(0,j.Z)(K,2),J=O[0],L=O[1],G=(0,q.useState)(0),z=(0,j.Z)(G,2),N=z[0],_=z[1],Y=(0,q.useState)(0),X=(0,j.Z)(Y,2),$=X[0],ee=X[1];console.log(S);var ne=function(n,i){e(i,{variant:"error"}),console.error(n)},ie=function(e,n){var i,t,o,r,d,l,u;if("type"===(null===(i=e.target)||void 0===i?void 0:i.name)&&void 0!==a)L((0,Z.Z)((0,Z.Z)({},J),{},{id_marque:a.findIndex((function(n){var i;return n.type===(null===(i=e.target)||void 0===i?void 0:i.value)})),type:null===(u=e.target)||void 0===u?void 0:u.value}));else if("marque"===(null===(t=e.target)||void 0===t?void 0:t.name)&&void 0!==p){var c;L((0,Z.Z)((0,Z.Z)({},J),{},{id_marque:p.findIndex((function(n){var i;return n.marque===(null===(i=e.target)||void 0===i?void 0:i.value)})),marque:null===(c=e.target)||void 0===c?void 0:c.value}))}else"modele"===(null===(o=e.target)||void 0===o?void 0:o.name)&&void 0!==s?L((0,Z.Z)((0,Z.Z)({},J),{},{id_modele:s.findIndex((function(n){var i;return n.modele===(null===(i=e.target)||void 0===i?void 0:i.value)})),modele:null===(r=e.target)||void 0===r?void 0:r.value})):L((0,Z.Z)((0,Z.Z)({},J),{},(0,g.Z)({},null===(d=e.target)||void 0===d?void 0:d.name,null===(l=e.target)||void 0===l?void 0:l.value)));R((function(i){var t,o;return(0,Z.Z)((0,Z.Z)({},i),{},(0,g.Z)({},n,(0,Z.Z)((0,Z.Z)({},i[n]),{},(0,g.Z)({},null===(t=e.target)||void 0===t?void 0:t.name,null===(o=e.target)||void 0===o?void 0:o.value))))}))};(0,q.useEffect)((function(){try{i("GET","products",{headers:{"Content-Type":"application/json"}},E)}catch(e){t(e.message||e),ne(e,e.message)}}),[]),(0,q.useEffect)((function(){try{i("GET","types",{headers:{"Content-Type":"application/json"}},d)}catch(e){t(e.message||e),ne(e,e.message)}}),[]),(0,q.useEffect)((function(){try{i("GET","modeles",{headers:{"Content-Type":"application/json"}},c)}catch(e){t(e.message||e),ne(e,e.message)}}),[]),(0,q.useEffect)((function(){try{i("GET","marques",{headers:{"Content-Type":"application/json"}},h)}catch(e){t(e.message||e),ne(e,e.message)}}),[]);(0,q.useEffect)((function(){$&&e("Le produit est delet\xe9 avec succ\xe8s",{variant:"success"})}),[$]),(0,q.useEffect)((function(){N&&e("Le produit est modifi\xe9 avec succ\xe8s",{variant:"success"})}),[N]);return(0,M.jsxs)(F,{children:[(0,M.jsx)(y.Z,{variant:"h3",children:"Liste de produits"}),(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),(0,M.jsxs)(C.Z,{component:"form",sx:{color:"colorWhite.main","& .MuiTextField-root":{m:1,display:"inline-block",width:{xs:"10vw",md:"7vw"},textAlign:"center",justifyContent:"center",color:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}},"& .MuiInput-root":{textAlign:"center",justifyContent:"center",alignContent:"center",color:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}},"& .Mui-disabled":{textAlign:"center",justifyContent:"center",alignContent:"center",webkitTextFillColor:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}}},noValidate:!0,autoComplete:"off",children:[(0,M.jsxs)(V,{children:[(0,M.jsx)("div",{children:"\u2116"}),(0,M.jsx)("div",{children:"Titre"}),(0,M.jsx)("div",{children:"Type"}),(0,M.jsx)("div",{children:"Annee"}),(0,M.jsx)("div",{children:"Prix"}),(0,M.jsx)("div",{children:"Kilometrage"}),(0,M.jsx)("div",{children:"Marque"}),(0,M.jsx)("div",{children:"Modele"}),(0,M.jsx)("div",{children:"Puiss. fisc."}),(0,M.jsx)("div",{children:"Puiss. motor"}),(0,M.jsx)("div",{children:"Boite vit."}),(0,M.jsx)("div",{children:"Modif"}),(0,M.jsx)("div",{children:"Delete"})]}),S.slice(1,20).map((function(n,o){var r,d,l,u,c,v,m,h,x,f;return(0,M.jsxs)(V,{children:[(0,M.jsx)("div",{children:o+1}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",name:"title",value:(null===(r=Q[n.id])||void 0===r?void 0:r.title)||(null===n||void 0===n?void 0:n.title),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{select:!0,variant:"standard",type:"text",fullWidth:!0,name:"type",value:(null===(d=Q[n.id])||void 0===d?void 0:d.type)||(null===n||void 0===n?void 0:n.type),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)},children:null===a||void 0===a?void 0:a.map((function(e,n){return(0,M.jsx)(A.Z,{value:e.type,children:e.type},n)}))})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"annee",value:(null===(l=Q[n.id])||void 0===l?void 0:l.annee)||(null===n||void 0===n?void 0:n.annee),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"prix",value:(null===(u=Q[n.id])||void 0===u?void 0:u.prix)||(null===n||void 0===n?void 0:n.prix),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"kilometrage",value:(null===(c=Q[n.id])||void 0===c?void 0:c.kilometrage)||(null===n||void 0===n?void 0:n.kilometrage),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{select:!0,variant:"standard",type:"text",name:"marque",value:(null===(v=Q[n.id])||void 0===v?void 0:v.marque)||(null===n||void 0===n?void 0:n.marque),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)},children:null===p||void 0===p?void 0:p.map((function(e,n){return(0,M.jsx)(A.Z,{value:e.marque,children:e.marque},n)}))})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{select:!0,variant:"standard",type:"text",fullWidth:!0,name:"model",value:(null===(m=Q[n.id])||void 0===m?void 0:m.modele)||(null===n||void 0===n?void 0:n.modele),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)},children:null===s||void 0===s?void 0:s.map((function(e,n){return(0,M.jsx)(A.Z,{value:e.modele,children:e.modele},n)}))})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"puissance_fiscale",value:(null===(h=Q[n.id])||void 0===h?void 0:h.puissance_fiscale)||(null===n||void 0===n?void 0:n.puissance_fiscale),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"puissance_motor",value:(null===(x=Q[n.id])||void 0===x?void 0:x.puissance_motor)||(null===n||void 0===n?void 0:n.puissance_motor),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(H,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"boite_vitesse",value:(null===(f=Q[n.id])||void 0===f?void 0:f.boite_vitesse)||(null===n||void 0===n?void 0:n.boite_vitesse),disabled:W!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return ie(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)("div",{children:(0,M.jsx)(D,{onClick:function(){return function(n){if(""===W)U(n);else{var o={data:J,id:n,headers:{"Content-Type":"application/json"}};if(Object.keys(Q).length)try{i("PUT","updproduct",o,_)}catch(r){t(r.message||r),ne(r,r.message)}else e("Aucun changement effectu\xe9",{variant:"info"});U("")}}(null===n||void 0===n?void 0:n.id.toString())},children:"Modifier"})}),(0,M.jsx)("div",{children:(0,M.jsx)(D,{onClick:function(){return function(e){var n={id:e,headers:{"Content-Type":"application/json"}};try{i("DELETE","delproduct",n,ee)}catch(o){t(o.message||o),ne(o,o.message)}}(null===n||void 0===n?void 0:n.id)},children:"DELETE"})})]},o)}))]})]})},N=i(6884),_=i.p+"static/media/fon_admin.ecfa11d17e82a74f8247.jpg",Y=(0,Q.ZP)("div")(m||(m=(0,I.Z)(["\n  padding-top: 15vh;\n  padding-bottom: 15vh;\n  display: block;\n  text-align: center;\n  position: relative;\n  min-height: 100vh;\n  color: ",';\n\n  &::before {\n    content: "";\n    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),\n      url(',") no-repeat center center;\n\n    background-size: cover;\n    opacity: 0.4;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    position: absolute;\n    z-index: -1;\n  }\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.theme.palette.colorWhite.main}),_),X=(0,Q.ZP)("div")(p||(p=(0,I.Z)(["\n  width: 95%;\n  display: grid;\n  grid-template-columns: 5% 15% 15% 15% 15% 15% 10% 10%;\n  grid-template-rows: auto;\n  justify-items: center;\n  align-items: center;\n  color: ",";\n\n  @media (max-width: 750px) {\n    align-items: center;\n    font-size: 0.5rem;\n  }\n"])),(function(e){return e.theme.palette.colorWhite.main})),$=(0,Q.ZP)("div")(h||(h=(0,I.Z)(["\n  display: block;\n  text-align: center;\n  color: ",";\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.theme.palette.colorWhite.main})),ee=((0,Q.ZP)("div")(x||(x=(0,I.Z)(["\n  display: ",";\n\n  @media (max-width: 750px) {\n  }\n"])),(function(e){return e.show?"block":"none"})),(0,Q.ZP)(B.Z)(f||(f=(0,I.Z)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 10px;\n\n  @media (max-width: 750px) {\n    width: 5vw;\n    height: 2vh;\n    font-size: 0.5rem;\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.secondary.main}))),ne=Object.values(N.v),ie=function(){(0,q.useContext)(S.Z).authState;var e=(0,w.Ds)().enqueueSnackbar,n=(0,P.Z)(),i=n.request,t=n.setError,o=(0,q.useState)([]),r=(0,j.Z)(o,2),a=r[0],d=r[1],l=(0,q.useState)(""),u=(0,j.Z)(l,2),s=u[0],c=u[1],v=(0,q.useState)({}),m=(0,j.Z)(v,2),p=m[0],h=m[1],x=(0,q.useState)({id:0,nom:"",prenom:"",nickname:"",email:"",role:"",id_role:0}),f=(0,j.Z)(x,2),k=f[0],T=f[1],W=(0,q.useState)(0),U=(0,j.Z)(W,2),I=U[0],B=U[1],Q=(0,q.useState)(0),R=(0,j.Z)(Q,2),K=R[0],O=R[1],J=function(n,i){e(i,{variant:"error"}),console.error(n)},L=function(e,n){var i,t;T((0,Z.Z)((0,Z.Z)({},k),{},(0,g.Z)({},null===(i=e.target)||void 0===i?void 0:i.name,null===(t=e.target)||void 0===t?void 0:t.value))),h((function(i){var t,o;return(0,Z.Z)((0,Z.Z)({},i),{},(0,g.Z)({},n,(0,Z.Z)((0,Z.Z)({},i[n]),{},(0,g.Z)({},null===(t=e.target)||void 0===t?void 0:t.name,null===(o=e.target)||void 0===o?void 0:o.value))))}))};(0,q.useEffect)((function(){try{i("GET","users",{headers:{"Content-Type":"application/json"}},d)}catch(e){t(e.message||e),J(e,e.message)}}),[]);(0,q.useEffect)((function(){K&&e("L'utilisateur est delet\xe9 avec succ\xe8s",{variant:"success"})}),[K]),(0,q.useEffect)((function(){I&&e("L'utilisateur est modifi\xe9 avec succ\xe8s",{variant:"success"})}),[I]);return(0,M.jsxs)(Y,{children:[(0,M.jsx)(y.Z,{variant:"h3",children:"Admin page"}),(0,M.jsx)(E.default,{}),(0,M.jsxs)(C.Z,{component:"form",sx:{color:"colorWhite.main","& .MuiTextField-root":{m:1,display:"inline-block",width:{xs:"50vw",md:"25vw"},textAlign:"center",justifyContent:"center",color:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}},"& .MuiInput-root":{textAlign:"center",justifyContent:"center",alignContent:"center",color:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}},"& .Mui-disabled":{textAlign:"center",justifyContent:"center",alignContent:"center",webkitTextFillColor:"colorWhite.main",fontSize:{xs:"0.4rem",md:"1rem"}}},noValidate:!0,autoComplete:"off",children:[(0,M.jsxs)(X,{children:[(0,M.jsx)("div",{children:"\u2116"}),(0,M.jsx)("div",{children:"Nom"}),(0,M.jsx)("div",{children:"Pr\xe9nom"}),(0,M.jsx)("div",{children:"Pseudonim"}),(0,M.jsx)("div",{children:"Email"}),(0,M.jsx)("div",{children:"Role"}),(0,M.jsx)("div",{children:"Modifier"}),(0,M.jsx)("div",{children:"Delete"})]}),a.map((function(n,o){var r,a,d,l,u;return(0,M.jsxs)(X,{children:[(0,M.jsx)("div",{children:o+1}),(0,M.jsx)($,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",name:"nom",value:(null===(r=p[n.id])||void 0===r?void 0:r.nom)||(null===n||void 0===n?void 0:n.nom),disabled:s!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return L(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)($,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"prenom",value:(null===(a=p[n.id])||void 0===a?void 0:a.prenom)||(null===n||void 0===n?void 0:n.prenom),disabled:s!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return L(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)($,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"nickname",value:(null===(d=p[n.id])||void 0===d?void 0:d.nickname)||(null===n||void 0===n?void 0:n.nickname),disabled:s!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return L(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)($,{children:(0,M.jsx)(b.Z,{variant:"standard",type:"text",fullWidth:!0,name:"email",value:(null===(l=p[n.id])||void 0===l?void 0:l.email)||(null===n||void 0===n?void 0:n.email),disabled:s!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return L(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)($,{children:(0,M.jsx)(b.Z,{variant:"standard",select:!0,type:"text",fullWidth:!0,name:"role",value:(null===(u=p[n.id])||void 0===u?void 0:u.role)||(null===n||void 0===n?void 0:n.role),disabled:s!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return L(e,null===n||void 0===n?void 0:n.id)},children:null===ne||void 0===ne?void 0:ne.map((function(e,n){return(0,M.jsx)(A.Z,{value:e,children:e},n)}))})}),(0,M.jsx)("div",{children:(0,M.jsx)(ee,{onClick:function(){return function(n){if(""===s)c(n);else{var o={data:k,id:n,headers:{"Content-Type":"application/json"}};if(Object.keys(p).length)try{i("PUT","update",o,B)}catch(r){t(r.message||r),J(r,r.message)}else e("Aucun changement effectu\xe9",{variant:"info"});c("")}}(null===n||void 0===n?void 0:n.id.toString())},children:"Modifier"})}),(0,M.jsx)("div",{children:(0,M.jsx)(ee,{onClick:function(){return function(e){var n={id:e,headers:{"Content-Type":"application/json"}};try{i("DELETE","delete",n,O)}catch(o){t(o.message||o),J(o,o.message)}}(null===n||void 0===n?void 0:n.id)},children:"DELETE"})})]},o)}))]}),(0,M.jsx)(G,{}),(0,M.jsx)(z,{})]})}}}]);